{"ast":null,"code":"var _jsxFileName = \"/home/akshit/Workspace/DEV/Web Dev/echocode.ai/frontend/src/components/VoiceRecorderButton.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { FiMic, FiLoader } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VoiceRecorderButton({\n  onVoiceInput,\n  loading,\n  floating\n}) {\n  _s();\n  const [recording, setRecording] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const startRecording = async () => {\n    setRecording(true);\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    mediaRecorderRef.current = new window.MediaRecorder(stream);\n    audioChunksRef.current = [];\n    mediaRecorderRef.current.ondataavailable = e => {\n      audioChunksRef.current.push(e.data);\n    };\n    mediaRecorderRef.current.onstop = () => {\n      const audioBlob = new Blob(audioChunksRef.current, {\n        type: 'audio/wav'\n      });\n      onVoiceInput(audioBlob);\n    };\n    mediaRecorderRef.current.start();\n  };\n  const stopRecording = () => {\n    setRecording(false);\n    mediaRecorderRef.current.stop();\n  };\n  if (floating) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center w-16 h-16 text-3xl transition-all duration-200 ${loading ? 'opacity-50 cursor-not-allowed' : ''}`,\n      onClick: recording ? stopRecording : startRecording,\n      disabled: loading,\n      \"aria-label\": recording ? 'Stop Recording' : 'Start Recording',\n      children: loading ? /*#__PURE__*/_jsxDEV(FiLoader, {\n        className: \"animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(FiMic, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 60\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `bg-blue-500 text-white px-4 py-2 rounded shadow flex items-center ${loading ? 'opacity-50' : ''}`,\n    onClick: recording ? stopRecording : startRecording,\n    disabled: loading,\n    children: recording ? 'ðŸ›‘ Stop' : 'ðŸŽ¤ Record'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(VoiceRecorderButton, \"iihCjkzL20K33vHj1iywA3a+uCE=\");\n_c = VoiceRecorderButton;\nexport default VoiceRecorderButton;\nvar _c;\n$RefreshReg$(_c, \"VoiceRecorderButton\");","map":{"version":3,"names":["React","useRef","useState","FiMic","FiLoader","jsxDEV","_jsxDEV","VoiceRecorderButton","onVoiceInput","loading","floating","_s","recording","setRecording","mediaRecorderRef","audioChunksRef","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","current","window","MediaRecorder","ondataavailable","e","push","data","onstop","audioBlob","Blob","type","start","stopRecording","stop","className","onClick","disabled","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/akshit/Workspace/DEV/Web Dev/echocode.ai/frontend/src/components/VoiceRecorderButton.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { FiMic, FiLoader } from 'react-icons/fi';\n\nfunction VoiceRecorderButton({ onVoiceInput, loading, floating }) {\n  const [recording, setRecording] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  const startRecording = async () => {\n    setRecording(true);\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n    mediaRecorderRef.current = new window.MediaRecorder(stream);\n    audioChunksRef.current = [];\n    mediaRecorderRef.current.ondataavailable = (e) => {\n      audioChunksRef.current.push(e.data);\n    };\n    mediaRecorderRef.current.onstop = () => {\n      const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/wav' });\n      onVoiceInput(audioBlob);\n    };\n    mediaRecorderRef.current.start();\n  };\n\n  const stopRecording = () => {\n    setRecording(false);\n    mediaRecorderRef.current.stop();\n  };\n\n  if (floating) {\n    return (\n      <button\n        className={`bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center w-16 h-16 text-3xl transition-all duration-200 ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\n        onClick={recording ? stopRecording : startRecording}\n        disabled={loading}\n        aria-label={recording ? 'Stop Recording' : 'Start Recording'}\n      >\n        {loading ? <FiLoader className=\"animate-spin\" /> : <FiMic />}\n      </button>\n    );\n  }\n\n  return (\n    <button\n      className={`bg-blue-500 text-white px-4 py-2 rounded shadow flex items-center ${loading ? 'opacity-50' : ''}`}\n      onClick={recording ? stopRecording : startRecording}\n      disabled={loading}\n    >\n      {recording ? 'ðŸ›‘ Stop' : 'ðŸŽ¤ Record'}\n    </button>\n  );\n}\n\nexport default VoiceRecorderButton;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,KAAK,EAAEC,QAAQ,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,SAASC,mBAAmBA,CAAC;EAAEC,YAAY;EAAEC,OAAO;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAChE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMY,gBAAgB,GAAGb,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMc,cAAc,GAAGd,MAAM,CAAC,EAAE,CAAC;EAEjC,MAAMe,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjCH,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMI,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;MAAEC,KAAK,EAAE;IAAK,CAAC,CAAC;IACzEP,gBAAgB,CAACQ,OAAO,GAAG,IAAIC,MAAM,CAACC,aAAa,CAACP,MAAM,CAAC;IAC3DF,cAAc,CAACO,OAAO,GAAG,EAAE;IAC3BR,gBAAgB,CAACQ,OAAO,CAACG,eAAe,GAAIC,CAAC,IAAK;MAChDX,cAAc,CAACO,OAAO,CAACK,IAAI,CAACD,CAAC,CAACE,IAAI,CAAC;IACrC,CAAC;IACDd,gBAAgB,CAACQ,OAAO,CAACO,MAAM,GAAG,MAAM;MACtC,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAAChB,cAAc,CAACO,OAAO,EAAE;QAAEU,IAAI,EAAE;MAAY,CAAC,CAAC;MACzExB,YAAY,CAACsB,SAAS,CAAC;IACzB,CAAC;IACDhB,gBAAgB,CAACQ,OAAO,CAACW,KAAK,CAAC,CAAC;EAClC,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1BrB,YAAY,CAAC,KAAK,CAAC;IACnBC,gBAAgB,CAACQ,OAAO,CAACa,IAAI,CAAC,CAAC;EACjC,CAAC;EAED,IAAIzB,QAAQ,EAAE;IACZ,oBACEJ,OAAA;MACE8B,SAAS,EAAE,mJAAmJ3B,OAAO,GAAG,+BAA+B,GAAG,EAAE,EAAG;MAC/M4B,OAAO,EAAEzB,SAAS,GAAGsB,aAAa,GAAGlB,cAAe;MACpDsB,QAAQ,EAAE7B,OAAQ;MAClB,cAAYG,SAAS,GAAG,gBAAgB,GAAG,iBAAkB;MAAA2B,QAAA,EAE5D9B,OAAO,gBAAGH,OAAA,CAACF,QAAQ;QAACgC,SAAS,EAAC;MAAc;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAAGrC,OAAA,CAACH,KAAK;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtD,CAAC;EAEb;EAEA,oBACErC,OAAA;IACE8B,SAAS,EAAE,qEAAqE3B,OAAO,GAAG,YAAY,GAAG,EAAE,EAAG;IAC9G4B,OAAO,EAAEzB,SAAS,GAAGsB,aAAa,GAAGlB,cAAe;IACpDsB,QAAQ,EAAE7B,OAAQ;IAAA8B,QAAA,EAEjB3B,SAAS,GAAG,SAAS,GAAG;EAAW;IAAA4B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9B,CAAC;AAEb;AAAChC,EAAA,CA/CQJ,mBAAmB;AAAAqC,EAAA,GAAnBrC,mBAAmB;AAiD5B,eAAeA,mBAAmB;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}