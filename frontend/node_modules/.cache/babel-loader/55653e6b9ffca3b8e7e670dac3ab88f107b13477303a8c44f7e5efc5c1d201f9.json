{"ast":null,"code":"var _jsxFileName = \"/home/akshit/Workspace/DEV/Web Dev/echocode.ai/frontend/src/components/ResultDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { oneDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\n\n// We removed the GradualText component as it conflicts with \n// the speech synthesis, which reads the whole text at once.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ResultDisplay({\n  explanation,\n  code,\n  language\n}) {\n  _s();\n  // This hook handles all the speech synthesis logic\n  useEffect(() => {\n    // Make sure we have an explanation and the browser supports speech\n    if (explanation && 'speechSynthesis' in window) {\n      // 1. Create the speech \"utterance\"\n      const utterance = new SpeechSynthesisUtterance(explanation);\n\n      // 2. Configure it (optional, but good for quality)\n      utterance.lang = 'en-US'; // Force English voice\n      utterance.rate = 1.0; // Normal speed\n\n      // 3. Stop any speech that is currently playing (IMPORTANT)\n      window.speechSynthesis.cancel();\n\n      // 4. Speak the new explanation\n      window.speechSynthesis.speak(utterance);\n    }\n\n    // This is a cleanup function\n    // It runs when the component is unmounted (e.g., user starts a new chat)\n    return () => {\n      // Stop speaking if the component is removed\n      if ('speechSynthesis' in window) {\n        window.speechSynthesis.cancel();\n      }\n    };\n  }, [explanation]); // This hook re-runs ONLY when the 'explanation' prop changes\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-6 w-full max-w-4xl bg-gray-800 rounded-lg shadow-xl p-6 text-left animate-fade-in\",\n    children: [explanation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-white text-lg\",\n        children: \"Explanation:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-200 mt-2 whitespace-pre-wrap\",\n        children: explanation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), code && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-white text-lg\",\n        children: \"Code:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SyntaxHighlighter, {\n        language: language || 'python',\n        style: oneDark,\n        className: \"rounded-md mt-2\",\n        showLineNumbers: true,\n        wrapLines: true,\n        children: code\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(ResultDisplay, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ResultDisplay;\nexport default ResultDisplay;\nvar _c;\n$RefreshReg$(_c, \"ResultDisplay\");","map":{"version":3,"names":["React","useEffect","Prism","SyntaxHighlighter","oneDark","jsxDEV","_jsxDEV","ResultDisplay","explanation","code","language","_s","window","utterance","SpeechSynthesisUtterance","lang","rate","speechSynthesis","cancel","speak","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","showLineNumbers","wrapLines","_c","$RefreshReg$"],"sources":["/home/akshit/Workspace/DEV/Web Dev/echocode.ai/frontend/src/components/ResultDisplay.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { oneDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\n\n// We removed the GradualText component as it conflicts with \n// the speech synthesis, which reads the whole text at once.\n\nfunction ResultDisplay({ explanation, code, language }) {\n  \n  // This hook handles all the speech synthesis logic\n  useEffect(() => {\n    // Make sure we have an explanation and the browser supports speech\n    if (explanation && 'speechSynthesis' in window) {\n      \n      // 1. Create the speech \"utterance\"\n      const utterance = new SpeechSynthesisUtterance(explanation);\n      \n      // 2. Configure it (optional, but good for quality)\n      utterance.lang = 'en-US'; // Force English voice\n      utterance.rate = 1.0; // Normal speed\n      \n      // 3. Stop any speech that is currently playing (IMPORTANT)\n      window.speechSynthesis.cancel();\n      \n      // 4. Speak the new explanation\n      window.speechSynthesis.speak(utterance);\n    }\n\n    // This is a cleanup function\n    // It runs when the component is unmounted (e.g., user starts a new chat)\n    return () => {\n      // Stop speaking if the component is removed\n      if ('speechSynthesis' in window) {\n        window.speechSynthesis.cancel();\n      }\n    };\n  }, [explanation]); // This hook re-runs ONLY when the 'explanation' prop changes\n\n  return (\n    <div className=\"mt-6 w-full max-w-4xl bg-gray-800 rounded-lg shadow-xl p-6 text-left animate-fade-in\">\n      \n      {/* This is the new Explanation section. \n        It's no longer wrapped in <GradualText>.\n      */}\n      {explanation && (\n        <div className=\"mb-4\">\n          <span className=\"font-semibold text-white text-lg\">Explanation:</span>\n          <div className=\"text-gray-200 mt-2 whitespace-pre-wrap\">\n            {explanation}\n          </div>\n        </div>\n      )}\n\n      {/* This Code section remains the same */}\n      {code && (\n        <div>\n          <span className=\"font-semibold text-white text-lg\">Code:</span>\n          <SyntaxHighlighter \n            language={language || 'python'} \n            style={oneDark} \n            className=\"rounded-md mt-2\"\n            showLineNumbers={true}\n            wrapLines={true}\n          >\n            {code}\n          </SyntaxHighlighter>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ResultDisplay;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,KAAK,IAAIC,iBAAiB,QAAQ,0BAA0B;AACrE,SAASC,OAAO,QAAQ,gDAAgD;;AAExE;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,SAASC,aAAaA,CAAC;EAAEC,WAAW;EAAEC,IAAI;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAEtD;EACAV,SAAS,CAAC,MAAM;IACd;IACA,IAAIO,WAAW,IAAI,iBAAiB,IAAII,MAAM,EAAE;MAE9C;MACA,MAAMC,SAAS,GAAG,IAAIC,wBAAwB,CAACN,WAAW,CAAC;;MAE3D;MACAK,SAAS,CAACE,IAAI,GAAG,OAAO,CAAC,CAAC;MAC1BF,SAAS,CAACG,IAAI,GAAG,GAAG,CAAC,CAAC;;MAEtB;MACAJ,MAAM,CAACK,eAAe,CAACC,MAAM,CAAC,CAAC;;MAE/B;MACAN,MAAM,CAACK,eAAe,CAACE,KAAK,CAACN,SAAS,CAAC;IACzC;;IAEA;IACA;IACA,OAAO,MAAM;MACX;MACA,IAAI,iBAAiB,IAAID,MAAM,EAAE;QAC/BA,MAAM,CAACK,eAAe,CAACC,MAAM,CAAC,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAE,CAACV,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEnB,oBACEF,OAAA;IAAKc,SAAS,EAAC,sFAAsF;IAAAC,QAAA,GAKlGb,WAAW,iBACVF,OAAA;MAAKc,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBf,OAAA;QAAMc,SAAS,EAAC,kCAAkC;QAAAC,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACtEnB,OAAA;QAAKc,SAAS,EAAC,wCAAwC;QAAAC,QAAA,EACpDb;MAAW;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAhB,IAAI,iBACHH,OAAA;MAAAe,QAAA,gBACEf,OAAA;QAAMc,SAAS,EAAC,kCAAkC;QAAAC,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/DnB,OAAA,CAACH,iBAAiB;QAChBO,QAAQ,EAAEA,QAAQ,IAAI,QAAS;QAC/BgB,KAAK,EAAEtB,OAAQ;QACfgB,SAAS,EAAC,iBAAiB;QAC3BO,eAAe,EAAE,IAAK;QACtBC,SAAS,EAAE,IAAK;QAAAP,QAAA,EAEfZ;MAAI;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACd,EAAA,CA/DQJ,aAAa;AAAAsB,EAAA,GAAbtB,aAAa;AAiEtB,eAAeA,aAAa;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}